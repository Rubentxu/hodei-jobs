apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: providerconfigs.hodei.io
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
spec:
  group: hodei.io
  names:
    kind: ProviderConfig
    listKind: ProviderConfigList
    plural: providerconfigs
    singular: providerconfig
  scope: Namespaced
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          description: ProviderConfig is the Schema for the providerconfigs API
          properties:
            apiVersion:
              description:
                "APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values."
              type: string
            kind:
              description:
                "Kind is a string value representing the REST resource this
                object represents. Servers may infer this from the endpoint the client
                submits requests to. Cannot be updated. In CamelCase."
              type: string
            metadata:
              type: object
            spec:
              description: ProviderConfigSpec defines the desired state of ProviderConfig
              properties:
                kubernetes:
                  description: Kubernetes provider configuration
                  properties:
                    context:
                      description: Kubeconfig context to use
                      type: string
                    defaultCpuLimit:
                      description: Default CPU limit for workers
                      type: string
                    defaultCpuRequest:
                      description: Default CPU request for workers
                      type: string
                    defaultMemoryLimit:
                      description: Default memory limit for workers
                      type: string
                    defaultMemoryRequest:
                      description: Default memory request for workers
                      type: string
                    enableDynamicNamespaces:
                      description: Enable dynamic namespace creation per tenant
                      type: boolean
                    enableHPA:
                      description: Enable HPA for workers
                      type: boolean
                    imagePullSecrets:
                      description: Image pull secrets for private registries
                      items:
                        type: string
                      type: array
                    kubeconfigPath:
                      description: Path to kubeconfig file
                      type: string
                    namespace:
                      description: Namespace for worker Pods
                      type: string
                    namespacePrefix:
                      description: Namespace prefix for tenant-specific namespaces
                      type: string
                    podSecurityStandard:
                      description: Pod Security Standard level
                      enum:
                        - Restricted
                        - Baseline
                        - Privileged
                      type: string
                    serviceAccount:
                      description: Service account for worker Pods
                      type: string
                  type: object
                type:
                  description: Provider type (kubernetes, docker, firecracker)
                  enum:
                    - kubernetes
                    - docker
                    - firecracker
                  type: string
              required:
                - type
              type: object
            status:
              description: ProviderConfigStatus defines the observed state of ProviderConfig
              properties:
                conditions:
                  description: Conditions of the resource.
                  items:
                    properties:
                      lastTransitionTime:
                        description:
                          lastTransitionTime is the last time the condition
                          transitioned from one status to another. This should be when
                          the underlying condition changed. If that is not known, then
                          leaving the time field empty is fine.
                        format: date-time
                        type: string
                      message:
                        description:
                          message is a human readable message indicating details
                          about the transition. This may be an empty string.
                        type: string
                      reason:
                        description:
                          reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers of specific
                          condition types may define expected values and meanings for this
                          field, and whether the values are considered a guaranteed API.
                          The value should be a CamelCase string. This field may not be empty.
                        type: string
                      status:
                        description: status of the condition, one of True, False, Unknown.
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        description:
                          type of condition in CamelCase or in foo.example.com/CamelCase.
                          The `type` will be used to generate a valid condition type following
                          the Kubernetes API conventions.
                        type: string
                    required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                    type: object
                  type: array
                lastSyncedAt:
                  description:
                    LastSyncedAt is the last time the configuration was synced
                    from the API server.
                  format: date-time
                  type: string
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
