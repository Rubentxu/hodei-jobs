# =============================================================================
# Bacon Configuration for Hodei Job Platform
# =============================================================================
# Bacon is a background code checker for Rust that provides continuous feedback
# with minimal interaction, perfect for rapid development.
#
# Install: cargo install --locked bacon
# Usage: bacon run
#
# This configuration provides multiple jobs for different development workflows.

default_job = "run"

[jobs.run]
command = ["cargo", "run", "--bin", "server"]
need_stdout = true

[jobs.run-worker]
command = ["cargo", "run", "--bin", "worker"]
need_stdout = true

[jobs.check]
command = ["cargo", "check", "--workspace"]
need_stdout = false

[jobs.clippy]
command = ["cargo", "clippy", "--all-targets", "--all-features", "--", "-D", "warnings"]
need_stdout = false

[jobs.test]
command = ["cargo", "test", "--workspace"]
need_stdout = true

[jobs.build]
command = ["cargo", "build", "--release"]
need_stdout = true

[jobs.fmt]
command = ["cargo", "fmt", "--all", "--check"]
need_stdout = false

[jobs.doc]
command = ["cargo", "doc", "--no-deps"]
need_stdout = false
